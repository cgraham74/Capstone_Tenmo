<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://org.thymeleaf.extras/thymeleaf-extras-springsecurity5" xmlns="http://www.w3.org/1999/html">
<!--xmlns:sec="http://www.thymeleaf.org/extras-spring-security"-->
<!--<intercept-url pattern="/login" access="permitAll"></intercept-url>-->
<!--<form-login login-page="/login"></form-login>-->
<head>
    <meta name="description" content="TEnmo Transfer Capstone Project"/>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, shrink-to-fit=no" />
    <title>Layout-Page</title>
    <link rel='canonical' href='@{/layout}' />
    <link href="../static/style.css"  rel="stylesheet" th:href="@{/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="actions.js"></script>
    <script src="https://kit.fontawesome.com/46c7c53781.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.22.0/axios.min.js"></script>
</head>
<body id="main-layer-body">
<header>
    <div class="navbar">
        <!--  static use /static/TEnmo.jpg  Dynamic use {TEnmo} -->
        <img src="../static/TEnmo.jpg" th:src="@{../TEnmo.jpg}" alt="TEnmo logo of people sharing money" id="tenmo-logo">
        <div class="container" id="btnGroupContainer">
            <a th:href="@{balance}"  class="button-group" id="balance-nav-button" title="View Balance">Account</a>
            <a th:href="@{pending}" class="button-group" id="pending-nav-button" title="Pending Transactions">Pending</a>
            <a th:href="@{users}" class="button-group" id="users-nav-button" title="Send Money">Friends</a>
<!--            <a th:action="@{/request}" type="button" class="button-group"  title="Request Money">Request</a>-->
            <a th:href="@{transfers}" id="transfers-nav-button" class="button-group" title="Transfer history">Transfers</a>
            <input type="hidden" id="jwt-token" th:value="${jwt}" />
        </div>
    </div>
</header>
<p>User in session storage: <span th:text="${session.user?.username}"></span></p>
<!--<p>Account ID: <span th:text="${session.user?.id}"></span></p>-->

<p>layout : <span th:text="${#authentication.name}"></span></p>
<div sec:authorize="!isAuthenticated()">
    <a th:href="@{/login}">Not Authenticated/Authorized</a>
</div>
<div sec:authorize="isAuthenticated()">
    <p>is Authenticated!</p>
</div>
<main role="main" class="main-content" layout:fragment="main-content">
    <!--This is where all of the changable content will be kept-->
<!--    <p>Country: <span th:text="${#locale.country}"></span></p>-->
    <!--<p>Date: <span th:text="${#calendars.format(today,'dd MMMM yyyy')}"></span></p>-->
</main>
<footer id="footer">
    <p>2022 Copyright &copy; Graham & Harper</p>
    <p>Logged in as: <span th:text="${session.user?.username}"></span></p>
</footer>
</body>
</html>